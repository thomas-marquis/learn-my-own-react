<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Own React</title>
    <script src="didact.js" type="module"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<body>

<div id="root"></div>

<script type="text/babel">
    /** @jsx Didact.createElement */

    function useIncrement() {
      const [n, setN] = Didact.useState(0)
      const increment = () => {
        setN(n+1)
      }
      return [n, increment]
    }

    function Counter({label}) {
      const [n, increment] = useIncrement()

      return  (
        <div>
            Compteur {label} : {n}
          <button onClick={increment} >Incr√©menter</button>
        </div>
      )
    }


    function step1() {
      console.log('step1');
      const element = <div id="foo">
        <Counter label="de ouf !" />
        <button onClick={step2}>En savoir plus</button>
      </div>
      Didact.render(element, document.getElementById("root"));
    }

    function step2(e) {
      console.log('step2', e);
      const element = <div id="foo">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae culpa magnam odio odit quas quia. Ab aliquam aut beatae dignissimos ipsam nulla quaerat veniam. Cum dicta dolorem earum in iste?</p>
        <button onClick={step1}>retour</button>
      </div>
      Didact.render(element, document.getElementById("root"));
    }

    step1()
</script>

</body>
</html>
